## #2 DHCP μ„λ²„λ¥Ό λ§λ“¤μ–΄λ³΄μ.

ν„μ¬ proxmox μ„μ— μ—¬λ¬κ°μ vm μ΄ μ¬λΌκ°€μλ” μƒνƒμΈλ°, 
κ·Έμ¤‘ ν•λ‚μ vmμ€ DHCPμ„λ²„,

λ λ‹¤λ¥Έ ν•λ‚μ vm μ€ ν΄λΌμ΄μ–ΈνΈλ΅μ„ 
ipν• λ‹Ήμ”μ²­ -> DHCPμ„λ²„ -> ipν• λ‹Ήλ¨
μ μΌλ ¨μ κ³Όμ •μ„ μ§μ ‘ μ‹¤ν„μ‹μΌλ³΄λ”κ²ƒμ΄ μ΄λ²μ£Όμ°¨μ λ©ν‘μ€λ‹¤.
---

## 1. λ°°κ²½ μ§€μ‹

### 1. λ„¤νΈμ›ν¬ λ¨λ“

vmware λ‚ proxmoxκ°™μ€ κ°€μƒν™” ν΄μ—λ” λ„¤νΈμ›ν¬ λ¨λ“λΌλ”κ²ƒμ΄ μλ‹¤.

1. Host-Only : μ™Έλ¶€μ™€ λ‹¨μ λ λ‚΄λ¶€ λ„¤νΈμ›ν¬λ¥Ό κµ¬μ¶•ν•λ” κ²ƒμΌλ΅, κµ¬μ„±λ κ°€μƒλ¨Έμ‹  μ¦‰ vmλ“±μ κ°€μƒ λ¨Έμ‹  λ‚΄μ— μ΅΄μ¬ν•λ” λ¨Έμ‹ λ“¤ λΌλ¦¬λ§ ν†µμ‹ μ΄ κ°€λ¥ν•¨.
2. NAT : νΈμ¤νΈ pcλ΅λ¶€ν„° ipλ¥Ό ν• λ‹Ή λ°›μ•„ κ°€μƒλ¨Έμ‹  ν”„λ΅κ·Έλ¨μ΄ μμ²΄ DHCPμ„λ²„λ¥Ό λ„μ› λ‚΄λ¶€ λ„¤νΈμ›ν¬ λ€μ—­ ν• λ‹Ή λ° ν†µμ‹ , ν•΄λ‹Ή νΈμ¤νΈ PCλ¥Ό μ΄μ©ν•μ—¬ μ™Έλ¶€ λ„¤νΈμ›ν¬μ™€ ν†µμ‹ μ΄ κ°€λ¥ν•¨.
3. Bridge : κ³µμ κΈ°λ΅λ¶€ν„° IPλ¥Ό ν• λ‹Ή λ°›μ•„, νΈμ¤νΈPCμ™€ λ™μΌν• λ„¤νΈμ›ν¬ λ€μ—­μ IPλ¥Ό κ°–κ²λ¨, κ³µμ κΈ°λ¥Ό ν†µν•΄ μ™Έλ¶€ λ„¤νΈμ›ν¬ν†µμ‹ μ΄ κ°€λ¥.

> [μ¶μ²](https://hg2lee.tistory.com/entry/Network-%EA%B0%80%EC%83%81%EB%A8%B8%EC%8B%A0%EC%97%90%EC%84%9C-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EC%9D%98-%EC%A2%85%EB%A5%98-Bridged-NAT-Host-onl)

### 2. μ΄κ±΄ κ·Έλƒ¥ λ©΄μ ‘μ— λ‚μ™”μ–΄μ„ μ •λ¦¬ν•λ”.. (λΌμ°ν„° - PC λν¬νΈ μ—°κ²°λ μ¥μΉκ°„ ν†µμ‹ μ€ μ–΄λ–»κ²?)
λΌμ°ν„°μ— μ—°κ²°λ PCκ°€ **LAN(Local Area Network) ν†µμ‹ **μ„ μν–‰ν•λ” κ³Όμ •μ€ **L2(λ°μ΄ν„° λ§ν¬ κ³„μΈµ, MAC)μ™€ L3(λ„¤νΈμ›ν¬ κ³„μΈµ, IP)μ ν¨ν‚· μ „λ‹¬ κ³Όμ •**μ„ ν†µν•΄ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤. μ΄λ¥Ό λ‹¨κ³„λ³„λ΅ μ„¤λ…ν•κ² μµλ‹λ‹¤.  

---

## **1. LAN ν†µμ‹  κ°λ…**
- **LAN ν†µμ‹ :** κ°™μ€ λ„¤νΈμ›ν¬μ— μλ” μ¥μΉλ“¤λΌλ¦¬ μ§μ ‘ ν†µμ‹ ν•λ” λ°©μ‹.  
- **ν¨ν‚· μ „λ‹¬:** μ†΅μ‹  μ¥μΉκ°€ **MAC μ£Όμ†**λ¥Ό μ΄μ©ν•΄ μμ‹  μ¥μΉλ¥Ό μ°Ύκ³ , IP μ£Όμ†λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•¨.  
- **λΌμ°ν„° μ—­ν• :** λΌμ°ν„°λ” **λ‹¤λ¥Έ λ„¤νΈμ›ν¬(μ„λΈλ„·) κ°„μ ν†µμ‹ μ„ μ¤‘κ³„**ν•μ§€λ§, κ°™μ€ LANμ—μ„λ” **μ¤μ„μΉ μ—­ν• **μ„ μν–‰ν•μ—¬ ν¨ν‚·μ„ μ „λ‹¬ν•¨.

---

## **2. LAN ν†µμ‹ μ ν¨ν‚· λ™μ‘ κ³Όμ •**
μλ¥Ό λ“¤μ–΄, **PC1(192.168.1.10)μ΄ PC2(192.168.1.20)μ—κ² λ°μ΄ν„°λ¥Ό μ „μ†΅**ν•λ‹¤κ³  κ°€μ •ν•κ² μµλ‹λ‹¤.

### **β‘  λ©μ μ§€ MAC μ£Όμ† ν™•μΈ (ARP μ”μ²­)**
PC1μ΄ PC2μ **MAC μ£Όμ†λ¥Ό λ¨λ¥΄λ©΄** λ¨Όμ € **ARP(Address Resolution Protocol) μ”μ²­**μ„ λ³΄λƒ…λ‹λ‹¤.

**ARP μ”μ²­ κ³Όμ •**
- PC1μ€ **λΈλ΅λ“μΊμ¤νΈ(FF:FF:FF:FF:FF:FF) ν¨ν‚·**μ„ μ‚¬μ©ν•μ—¬ "192.168.1.20μ MAC μ£Όμ†λ¥Ό μ•λ ¤μ¤!"λΌκ³  μ”μ²­.
- μ΄ ν¨ν‚·μ€ κ°™μ€ λ„¤νΈμ›ν¬μ— μλ” λ¨λ“  μ¥μΉμ—κ² μ „λ‹¬λ¨.

π“ **ARP μ”μ²­ ν¨ν‚· κµ¬μ΅°**
```
μ¶λ°μ§€ MAC: 00:11:22:33:44:55 (PC1 MAC)
λ©μ μ§€ MAC: FF:FF:FF:FF:FF:FF (λΈλ΅λ“μΊμ¤νΈ)
μ¶λ°μ§€ IP: 192.168.1.10
λ©μ μ§€ IP: 192.168.1.20
```

### **β‘΅ λ©μ μ§€ PCκ°€ μ‘λ‹µ (ARP μ‘λ‹µ)**
- PC2λ” μμ‹ μ IPκ°€ 192.168.1.20μ΄λΌλ” κ²ƒμ„ ν™•μΈν•κ³ , **μμ‹ μ MAC μ£Όμ†λ¥Ό ν¬ν•¨ν• ARP μ‘λ‹µ**μ„ λ³΄λƒ„.
- μ‘λ‹µμ€ **μ λ‹μΊμ¤νΈ(PC1μ MAC μ£Όμ†)**λ΅ μ „μ†΅λ¨.

π“ **ARP μ‘λ‹µ ν¨ν‚· κµ¬μ΅°**
```
μ¶λ°μ§€ MAC: 00:AA:BB:CC:DD:EE (PC2 MAC)
λ©μ μ§€ MAC: 00:11:22:33:44:55 (PC1 MAC)
μ¶λ°μ§€ IP: 192.168.1.20
λ©μ μ§€ IP: 192.168.1.10
```

- PC1μ€ μ΄μ  **PC2μ MAC μ£Όμ†λ¥Ό ARP μΊμ‹(μ„μ‹ μ €μ¥μ†)μ— μ €μ¥**ν•κ³ , μ΄ν›„λ¶€ν„°λ” ARP μ—†μ΄ λ°”λ΅ ν†µμ‹  κ°€λ¥.

---

### **β‘Ά λ°μ΄ν„° ν¨ν‚· μ „μ†΅ (μ΄λ”λ„· ν”„λ μ„)**
μ΄μ  PC1μ€ **PC2μ—κ² μ‹¤μ  λ°μ΄ν„°λ¥Ό μ „μ†΅**ν•  μ μμµλ‹λ‹¤.

**π“ μ΄λ”λ„· ν”„λ μ„ κµ¬μ΅°**
```
μ¶λ°μ§€ MAC: 00:11:22:33:44:55 (PC1)
λ©μ μ§€ MAC: 00:AA:BB:CC:DD:EE (PC2)
μ¶λ°μ§€ IP: 192.168.1.10
λ©μ μ§€ IP: 192.168.1.20
λ°μ΄ν„°: "μ•λ…•, PC2!"
```
- ν¨ν‚·μ΄ λΌμ°ν„°(λλ” μ¤μ„μΉ)λ΅ μ „λ‹¬λ¨.
- λΌμ°ν„°(μ¤μ„μΉ)λ” λ©μ μ§€ MACμ΄ PC2μ MACμ„μ„ ν™•μΈν•κ³  **PC2λ΅ μ „λ‹¬**.

---

### **β‘£ PC2κ°€ λ°μ΄ν„° μμ‹  λ° μ‘λ‹µ**
PC2λ” λ°›μ€ ν¨ν‚·μ„ ν™•μΈν•κ³ , μ‘λ‹µ ν¨ν‚·μ„ μƒμ„±ν•μ—¬ λ‹¤μ‹ PC1μ—κ² λ³΄λƒ„.

π“ **μ‘λ‹µ ν¨ν‚·**
```
μ¶λ°μ§€ MAC: 00:AA:BB:CC:DD:EE (PC2)
λ©μ μ§€ MAC: 00:11:22:33:44:55 (PC1)
μ¶λ°μ§€ IP: 192.168.1.20
λ©μ μ§€ IP: 192.168.1.10
λ°μ΄ν„°: "μ•λ…•, PC1!"
```

- μ΄ κ³Όμ •μ΄ λΉ λ¥΄κ² λ°λ³µλλ©΄μ„ LAN ν†µμ‹ μ΄ μ΄λ£¨μ–΄μ§.

---

## **3. λΌμ°ν„°μ μ—­ν• **
- λΌμ°ν„°λ” **κ°™μ€ λ„¤νΈμ›ν¬(LAN) λ‚΄μ—μ„λ” ν¨ν‚·μ„ μ¤‘κ³„ν•μ§€ μ•μ.**  
  β†’ μ¤μ„μΉ λλ” ν—λΈκ°€ MAC μ£Όμ† κΈ°λ°μΌλ΅ μ§μ ‘ μ „λ‹¬.
- λ‹¤λ§, **λ‹¤λ¥Έ λ„¤νΈμ›ν¬(μ„λΈλ„·)μ™€ ν†µμ‹ ν•  λ•**λ” λΌμ°ν„°κ°€ κ°μ…ν•μ—¬ **κ²μ΄νΈμ›¨μ΄ μ—­ν• **μ„ μν–‰.

π“ **LAN λ‚΄λ¶€ ν†µμ‹ κ³Ό λΌμ°ν„°**  
β… **LAN λ‚΄λ¶€ (κ°™μ€ μ„λΈλ„·) β†’ λΌμ°ν„° λ¶ν•„μ”**  
β… **λ‹¤λ¥Έ μ„λΈλ„· (192.168.1.10 β†’ 192.168.2.10) β†’ λΌμ°ν„° ν•„μ”**  

---

## **4. μ „μ²΄ LAN ν†µμ‹  νλ¦„ μ”μ•½**
1. **PC1 β†’ PC2μ MAC μ£Όμ† ν™•μΈ (ARP μ”μ²­)**
2. **PC2κ°€ μμ‹ μ MAC μ£Όμ†λ¥Ό μ‘λ‹µ (ARP μ‘λ‹µ)**
3. **PC1μ΄ MAC μ£Όμ†λ¥Ό μ΄μ©ν•΄ λ°μ΄ν„° μ „μ†΅ (μ΄λ”λ„· ν”„λ μ„)**
4. **PC2κ°€ λ°μ΄ν„° μμ‹  ν›„ μ‘λ‹µ**
5. **λΌμ°ν„°λ” κ°™μ€ λ„¤νΈμ›ν¬μ—μ„λ” κ°μ…ν•μ§€ μ•μ, λ‹¤λ¥Έ λ„¤νΈμ›ν¬μ—μ„λ” μ¤‘κ³„**

---

## **π“ κ²°λ΅ **
λΌμ°ν„°μ— μ—°κ²°λ PCλ“¤μ΄ **κ°™μ€ λ„¤νΈμ›ν¬μ—μ„ ν†µμ‹ ν•  λ•**λ” **MAC μ£Όμ†λ¥Ό κΈ°λ°μΌλ΅ μ§μ ‘ ν†µμ‹ **ν•λ©°, λΌμ°ν„°λ” κ°μ…ν•μ§€ μ•μµλ‹λ‹¤. ν•μ§€λ§ **λ‹¤λ¥Έ λ„¤νΈμ›ν¬μ™€ ν†µμ‹ ν•  λ•**λ” λΌμ°ν„°κ°€ ν¨ν‚·μ„ μ „λ‹¬ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.  

---
## 2. λ§λ“¤μ–΄λ³΄μ.

DHCP server - host only adaptor μΉ΄λ“ 2κ°κ°€ ν•„μ”ν•λ‹¤.   (ν΄λΌμ΄μ–ΈνΈμ™€ κ°™μ€κ±°, μΈν„°λ„·μ΄ λλ”κ±°)

ν΄λΌμ΄μ–ΈνΈ - host only adaptor μΉ΄λ“1κ° λ΅ κµ¬μ„±λμ–΄μ•Όν•λ‹¤.

<details>
    <summary> gptμ™€μ μ΄μ•ΌκΈ° </summary>
    ---

### λ””ν΄νΈ μ„¤μ •κ³Ό νμ‡„λ§ λ§λ“λ”λ°©λ²•

μ»΄ν“¨ν„° ν•λ‚λ‹Ή μ—¬λ¬κ°μ λν¬νΈλ¥Ό λ§λ“¤ μ μλ‹¤.

---

λ„¤, λ§μµλ‹λ‹¤! **DHCP μ„λ²„ μ—­ν• μ„ ν•  VMμ—λ” λ°λ“μ‹ κ³ μ • IPλ¥Ό ν• λ‹Ήν•΄μ•Ό ν•©λ‹λ‹¤.**

DHCP μ„λ²„κ°€ IPλ¥Ό μ κ³µν•λ ¤λ©΄ **μμ‹ μ IPκ°€ λ³€ν•μ§€ μ•μ•„μ•Ό ν•κΈ° λ•λ¬Έ**μ…λ‹λ‹¤.

---

### **β… 1οΈβƒ£ DHCP μ„λ²„κ°€ λ  VMμ κ³ μ • IP ν• λ‹Ήν•κΈ°**

κ³ μ • IPλ¥Ό μ„¤μ •ν•λ ¤λ©΄ VMμ λ„¤νΈμ›ν¬ μ„¤μ •μ„ λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤.

### **π“ Debian/Ubuntu (Netplan μ‚¬μ©)**

```bash
sudo nano /etc/netplan/01-netcfg.yaml

```

λ‹¤μ μ„¤μ •μ„ μ¶”κ°€ν•κ±°λ‚ μμ •ν•©λ‹λ‹¤.

```yaml
network:
  version: 2
  ethernets:
    ens18:
      dhcp4: no
      addresses:
        - 192.168.1.100/24  # DHCP μ„λ²„μ κ³ μ • IP
      gateway4: 192.168.1.1  # λΌμ°ν„° μ£Όμ†
      nameservers:
        addresses:
          - 8.8.8.8
          - 8.8.4.4

```

π“ **μ„¤λ…:**

- `dhcp4: no` β†’ DHCP μ‚¬μ© μ• ν•¨ (κ³ μ • IP μ‚¬μ©)
- `addresses` β†’ DHCP μ„λ²„κ°€ μ‚¬μ©ν•  **κ³ μ • IP (μ: 192.168.1.100)**
- `gateway4` β†’ κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ (λΌμ°ν„° IP)
- `nameservers` β†’ DNS μ„λ²„ μ„¤μ •

**μ„¤μ • μ μ©:**

```bash
sudo netplan apply

```

---

### **π“ Debian/Ubuntu (κΈ°μ΅΄ μΈν„°νμ΄μ¤ μ„¤μ • λ°©μ‹)**

λ§μ•½ `/etc/network/interfaces` νμΌμ„ μ‚¬μ©ν•λ” κ²½μ°:

```bash
sudo nano /etc/network/interfaces

```

μ„¤μ •μ„ μ¶”κ°€ν•©λ‹λ‹¤.

```
auto ens18
iface ens18 inet static
    address 192.168.1.100  # DHCP μ„λ²„μ κ³ μ • IP
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 8.8.4.4

```

μ„¤μ • μ μ©:

```bash
sudo systemctl restart networking

```

---

### **β… 2οΈβƒ£ DHCP μ„λ²„κ°€ VM λ‚΄λ¶€μ—μ„ λ™μ‘ν•λ”μ§€ ν™•μΈν•κΈ°**

1. **IP ν™•μΈ**
    
    ```bash
    ip a show ens18
    
    ```
    
    β†’ `192.168.1.100/24` κ°€ ν‘μ‹λλ”μ§€ ν™•μΈ
    
2. **DHCP μ„λΉ„μ¤ μ‹¤ν–‰ μƒνƒ ν™•μΈ (μ: isc-dhcp-server μ‚¬μ© μ‹)**
    
    ```bash
    systemctl status isc-dhcp-server
    
    ```
    
    β†’ μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό ν•¨ (`active (running)`)
    

---

### **π€ κ²°λ΅ **

β” DHCP μ„λ²„κ°€ λ  VMμ—λ” **κ³ μ • IPλ¥Ό ν• λ‹Ήν•΄μ•Ό ν•¨.**

β” μ„¤μ • λ°©λ²•:

- **Netplan** (`/etc/netplan/01-netcfg.yaml`)
- **κΈ°μ΅΄ λ°©μ‹** (`/etc/network/interfaces`)
β” μ„¤μ • ν›„ **`ip a`λ΅ κ³ μ • IPκ°€ μ μ©λμ—λ”μ§€ ν™•μΈ** ν•„μ”.

ν•„μ”ν• μ¶”κ°€ μ„¤μ •μ΄ μμΌλ©΄ μ•λ ¤μ£Όμ„Έμ”! π

λ„¤! μ΄λ―Έ **VMμ΄ 192.168.0.139**λ΅ IPλ¥Ό ν• λ‹Ήλ°›κ³  μλ‹¤λ©΄, **κ·Έκ±Έ κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤.**

λ‹¤λ§, **DHCP μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈ λ™μ• μ΄ IPκ°€ λ°”λ€μ§€ μ•λ„λ΅ κ³ μ •ν•΄μ•Ό ν•©λ‹λ‹¤.**

---

## **β… 1οΈβƒ£ ν„μ¬ IPκ°€ κ³ μ •μΈμ§€ ν™•μΈν•λ” λ°©λ²•**

### **λ°©λ²• 1: IP μ„¤μ • νμΌ ν™•μΈ (`/etc/network/interfaces` λλ” Netplan)**

- λ§μ•½ **DHCPμ—μ„ μλ™ ν• λ‹Ήλ κ²ƒ**μ΄λΌλ©΄, μ‹κ°„μ΄ μ§€λ‚λ©΄ IPκ°€ λ°”λ€” μ μμ.
- κ³ μ • IPλΌλ©΄ κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄ λ¨.

```bash
ip a show ens18

```

λ§μ•½ `inet 192.168.0.139/24`κ°€ ν‘μ‹λλ©΄, **ν„μ¬ μ΄ IPλ¥Ό μ‚¬μ© μ¤‘μΈ κ²ƒ**μ…λ‹λ‹¤.

---

## **β… 2οΈβƒ£ IPλ¥Ό μ™„μ „ν κ³ μ •ν•λ” λ°©λ²•**

### **π“ λ°©λ²• 1: DHCP μ„λ²„μ—μ„ IP μμ•½ν•κΈ°** (κ¶μ¥)

- **λΌμ°ν„°(DHCP μ„λ²„)μ—μ„** MAC μ£Όμ†λ¥Ό κΈ°λ°μΌλ΅ **192.168.0.139λ¥Ό ν•­μƒ ν• λ‹Ήν•λ„λ΅ μμ•½**ν•λ©΄ λ¨.
- λΌμ°ν„° μ„¤μ • νμ΄μ§€μ—μ„ **"DHCP IP μμ•½"** λλ” **"Static Lease"** κ°™μ€ κΈ°λ¥μ„ μ°Ύμ•„ MAC μ£Όμ†λ¥Ό μ…λ ¥ν•λ©΄ λ¨.
- MAC μ£Όμ† ν™•μΈ λ°©λ²•:

λλ”
    
    ```bash
    ip link show ens18
    
    ```
    
    ```bash
    cat /sys/class/net/ens18/address
    
    ```
    
- μ΄ λ°©λ²•μ„ μ‚¬μ©ν•λ©΄ **VM μ„¤μ •μ„ λ°”κΎΈμ§€ μ•κ³ λ„ IPκ°€ κ³ μ •λ¨.**

---

### **π“ λ°©λ²• 2: μ§μ ‘ κ³ μ • IP μ„¤μ •ν•κΈ° (VM λ‚΄λ¶€μ—μ„ μ„¤μ •)**

```bash
sudo nano /etc/network/interfaces

```

μ•„λμ²λΌ μ„¤μ •μ„ λ³€κ²½ν•©λ‹λ‹¤.

```
auto ens18
iface ens18 inet static
    address 192.168.0.139
    netmask 255.255.255.0
    gateway 192.168.0.1
    dns-nameservers 8.8.8.8 8.8.4.4

```

**μ„¤μ • μ μ©:**

```bash
sudo systemctl restart networking

```

---

## **π€ κ²°λ΅ **

β” **μ΄λ―Έ ν• λ‹Ήλ 192.168.0.139λ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•΄λ„ λ¨.**

β” **IPκ°€ λ°”λ€μ§€ μ•λ„λ΅ DHCPμ—μ„ μμ•½ν•κ±°λ‚, μ§μ ‘ κ³ μ • IPλ¥Ό μ„¤μ •ν•λ©΄ μ•μ „ν•¨.**

β” λΌμ°ν„° μ„¤μ •μ„ λ°”κΏ€ μ μμΌλ©΄ **DHCP μμ•½ λ°©μ‹**μ΄ λ” νΈν•κ³  μ•μ •μ !

**μ¶”κ°€λ΅ κ¶κΈν• μ  μμΌλ©΄ μ•λ ¤μ£Όμ„Έμ”!** π

λ„¤! Netplanμ„ μ‚¬μ©ν•΄μ„ **192.168.0.139**λ¥Ό κ³ μ • IPλ΅ μ„¤μ •ν•λ ¤λ” κ±°λ„¤μ”.

μ„¤μ • μμ²΄λ” **μ¬λ°”λ¥΄κ² μ‘μ„±**λμ—μµλ‹λ‹¤. π€

---

## **β… 1οΈβƒ£ μ μ© λ°©λ²•**

### **π“ μ„¤μ • νμΌ μ €μ¥ ν›„ Netplan μ μ©**

```bash
sudo netplan apply

```

μ μ© ν›„ **μΈν„°νμ΄μ¤κ°€ μ •μƒμ μΌλ΅ μ„¤μ •λμ—λ”μ§€ ν™•μΈ**ν•μ„Έμ”.

```bash
ip a show ens18

```

β†’ `inet 192.168.0.139/24`κ°€ μ •μƒμ μΌλ΅ μ„¤μ •λμ—λ”μ§€ ν™•μΈ.

---

## **β… 2οΈβƒ£ λ„¤νΈμ›ν¬ μ •μƒ μ‘λ™ ν™•μΈ**

### **π“ κ²μ΄νΈμ›¨μ΄ μ—°κ²° ν™•μΈ (192.168.0.1λ΅ ν•‘ ν…μ¤νΈ)**

```bash
ping -c 4 192.168.0.1

```

β” μ‘λ‹µμ΄ μ¤λ©΄ **κ²μ΄νΈμ›¨μ΄μ™€ μ—°κ²° μ •μƒ!**

### **π“ μΈν„°λ„· μ—°κ²° ν™•μΈ**

```bash
ping -c 4 8.8.8.8

```

β” μ‘λ‹µμ΄ μ¤λ©΄ **μΈν„°λ„· μ •μƒ!**

β” λ§μ•½ μ• λλ‹¤λ©΄, `routes` λ¶€λ¶„μ„ λ‹¤μ‹ ν™•μΈν•΄λ΄μ•Ό ν•¨.

---

## **π€ κ²°λ΅ **

β” μ„¤μ • νμΌμ€ **λ¬Έμ μ—†μ΄ μ μ‘μ„±λ¨!**

β” `sudo netplan apply` μ‹¤ν–‰ ν›„ **IP μ„¤μ • ν™•μΈ!**

β” `ping 192.168.0.1`κ³Ό `ping 8.8.8.8`λ΅ μ—°κ²° ν™•μΈ!

**μ¶”κ°€ μ§λ¬Έ μμΌλ©΄ νΈν•κ² λ¬Όμ–΄λ΄ μ£Όμ„Έμ”! π**

Netplan μ μ© μ‹ **"Failed to reload network settings: No such file or directory"** μ¤λ¥κ°€ λ°μƒν•λ”κµ°μ”.

μ΄λ” **Netplanμ΄ μ¬λ°”λ¥΄κ² μ μ©λμ§€ μ•κ±°λ‚, systemd-networkdκ°€ ν™μ„±ν™”λμ§€ μ•μ€ κ²½μ°** λ°μƒν•  μ μμµλ‹λ‹¤.

---

## **β… 1οΈβƒ£ Netplan μ„¤μ • νμΌ λ¬Έλ²• ν™•μΈ**

λ¨Όμ € **Netplan μ„¤μ •μ΄ μ¬λ°”λ¥Έμ§€ ν™•μΈ**ν•μ„Έμ”.

```bash
sudo netplan try

```

β” μ¤λ¥κ°€ μ—†μΌλ©΄ μ μ©λ©λ‹λ‹¤.

β” μ¤λ¥κ°€ μλ‹¤λ©΄ μμ •ν•΄μ•Ό ν•©λ‹λ‹¤.

νΉμ‹ YAML λ¬Έλ²• λ¬Έμ μΌ μλ„ μμΌλ‹, μ•„λ λ…λ Ήμ–΄λ΅ **λ“¤μ—¬μ“°κΈ° μ¤λ¥κ°€ μλ”μ§€ μ²΄ν¬**ν•μ„Έμ”.

```bash
sudo netplan generate

```

β” μ—λ¬ λ©”μ‹μ§€κ°€ μ—†μΌλ©΄ λ¬Έλ²• λ¬Έμ  μ—†μ.

β” **μ—λ¬κ°€ λ‚μ¤λ©΄ ν•΄λ‹Ή λ¶€λ¶„ μμ •!**

---

## **β… 2οΈβƒ£ Netplan μ μ© λ° κ°•μ  μ¬μ‹μ‘**

λ§μ•½ μ—¬μ „ν `netplan apply`κ°€ μ• λλ‹¤λ©΄, **μ‹μ¤ν… λ„¤νΈμ›ν¬ μ„λΉ„μ¤λ¥Ό κ°•μ λ΅ μ¬μ‹μ‘**ν•©λ‹λ‹¤.

```bash
sudo systemctl restart systemd-networkd

```

κ·Έλ¦¬κ³  λ‹¤μ‹ `netplan apply` μ‹λ„:

```bash
sudo netplan apply

```

---

## **β… 3οΈβƒ£ NetworkManagerκ°€ Netplanμ„ λ°©ν•΄ν•λ” κ²½μ°**

νΉμ‹ **NetworkManagerκ°€ μ‚¬μ© μ¤‘μ΄λΌλ©΄**, Netplanμ΄ μ λ€λ΅ μ μ©λμ§€ μ•μ„ μλ„ μμµλ‹λ‹¤.

ν™•μΈ λ°©λ²•:

```bash
sudo systemctl status NetworkManager

```

β” μ‹¤ν–‰ μ¤‘μ΄λΌλ©΄, **NetworkManager λ€μ‹  systemd-networkd μ‚¬μ©**ν•λ„λ΅ λ³€κ²½ν•΄μ•Ό ν•  μλ„ μμ.

λ§μ•½ Netplanμ„ κ°•μ λ΅ μ μ©ν•λ ¤λ©΄:

```bash
sudo systemctl stop NetworkManager
sudo systemctl disable NetworkManager
sudo systemctl restart systemd-networkd
sudo netplan apply

```

---

## **π€ κ²°λ΅ **

β” **1οΈβƒ£ `sudo netplan try`λ΅ λ¬Έλ²• ν™•μΈ**

β” **2οΈβƒ£ `sudo netplan generate`λ΅ μ„¤μ • νμΌ μ²΄ν¬**

β” **3οΈβƒ£ `systemd-networkd` μ¬μ‹μ‘ ν›„ `netplan apply`**

β” **4οΈβƒ£ NetworkManagerκ°€ λ°©ν•΄ν•λ”μ§€ ν™•μΈ (ν•„μ” μ‹ λΉ„ν™μ„±ν™”)**

μ΄λ€λ΅ ν•΄λ³΄κ³  ν•΄κ²° μ• λλ©΄ μ¶”κ°€ λ΅κ·Έμ™€ ν•¨κ» λ‹¤μ‹ μ§λ¬Έ μ£Όμ„Έμ”! π

Netplan μ„¤μ •μ„ μ μ©ν•λ” κ³Όμ •μ—μ„ **νμΌ κ¶ν• λ¬Έμ  λ° OVS(Open vSwitch) κ΄€λ ¨ κ²½κ³ **κ°€ λ°μƒν•κ³  μμµλ‹λ‹¤.

κ° λ¬Έμ λ¥Ό ν•λ‚μ”© ν•΄κ²°ν•΄λ³Όκ²μ”! π€

---

## **β… 1οΈβƒ£ Netplan μ„¤μ • νμΌμ κ¶ν• λ¬Έμ  ν•΄κ²°**

μ—λ¬ λ©”μ‹μ§€μ—μ„ **`/etc/netplan/01-network-manager-all.yaml` νμΌμ κ¶ν•μ΄ λ„λ¬΄ κ°λ°©μ **μ΄λΌκ³  λ‚μµλ‹λ‹¤.

Netplan μ„¤μ • νμΌμ€ λ³΄μ•μƒ **rootλ§ μ½μ„ μ μλ„λ΅ μ ν•**ν•΄μ•Ό ν•©λ‹λ‹¤.

### **π“ νμΌ κ¶ν•μ„ μμ •**

```bash
sudo chmod 600 /etc/netplan/01-network-manager-all.yaml

```

β” μ΄λ ‡κ² ν•λ©΄ **rootλ§ μ½μ„ μ μλ„λ΅ μ„¤μ •λ¨.**

β” λ‹¤μ‹ Netplanμ„ μ‹λ„ν•μ„Έμ”:

```bash
sudo netplan generate
sudo netplan apply

```

---

## **β… 2οΈβƒ£ Open vSwitch(OVS) κ΄€λ ¨ κ²½κ³  ν•΄κ²°**

κ²½κ³  λ©”μ‹μ§€ μ¤‘ **`Cannot call Open vSwitch: ovsdb-server.service is not running.`**

μ΄κ±΄ Open vSwitch(OVS)κ°€ μ‹¤ν–‰λμ§€ μ•μ•„μ„ λ°μƒν•λ” λ¬Έμ μ…λ‹λ‹¤.

λ§μ•½ OVSκ°€ ν•„μ” μ—†λ‹¤λ©΄ **λ¬΄μ‹ν•΄λ„ λ©λ‹λ‹¤.**

### **π“ OVSκ°€ ν•„μ” μ—†λ‹¤λ©΄ μ„λΉ„μ¤ λΉ„ν™μ„±ν™”**

```bash
sudo systemctl disable openvswitch-switch
sudo systemctl stop openvswitch-switch

```

μ΄μ  λ‹¤μ‹ `netplan apply` μ‹¤ν–‰.

### **π“ OVSλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤λ©΄ μ„λΉ„μ¤ μ‹¤ν–‰**

```bash
sudo systemctl start openvswitch-switch
sudo systemctl enable openvswitch-switch

```

μ΄ν›„ λ‹¤μ‹ Netplan μ μ©:

```bash
sudo netplan apply

```

---

## **π€ κ²°λ΅ **

β” **1οΈβƒ£ Netplan μ„¤μ • νμΌ κ¶ν•μ„ `chmod 600`μΌλ΅ λ³€κ²½**

β” **2οΈβƒ£ OVS κ΄€λ ¨ κ²½κ³ κ°€ ν•„μ” μ—†λ‹¤λ©΄ λΉ„ν™μ„±ν™” (`systemctl disable openvswitch-switch`)**

β” **3οΈβƒ£ λ¨λ“  μ„¤μ •μ„ μ μ© ν›„ `sudo netplan apply` λ‹¤μ‹ μ‹¤ν–‰**

μ΄μ  λ„¤νΈμ›ν¬κ°€ μ •μƒ μ‘λ™ν•  κ°€λ¥μ„±μ΄ λ†’μµλ‹λ‹¤!

νΉμ‹ μ¶”κ°€ μ¤λ¥κ°€ λ‚μ¤λ©΄ λ΅κ·Έμ™€ ν•¨κ» λ‹¤μ‹ μ§λ¬Έ μ£Όμ„Έμ”. π

μΆ‹μ•„μ”! μ§€κΈ **DHCP μ„λ²„ μ„¤μ •**κΉμ§€ μ™„λ£ν–λ„¤μ”. π€

μ΄μ  **DHCP μ„λ²„λ¥Ό μ‹¤ν–‰ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ μ •μƒμ μΌλ΅ IPλ¥Ό ν• λ‹Ήλ°›λ”μ§€ ν™•μΈ**ν•΄μ•Ό ν•©λ‹λ‹¤.

---

## **β… 1οΈβƒ£ DHCP μ„λ²„ μ‹¤ν–‰**

DHCP μ„λ²„λ¥Ό μ¬μ‹μ‘ν•΄μ„ μ„¤μ •μ„ μ μ©ν•μ„Έμ”.

```bash
sudo systemctl restart isc-dhcp-server

```

κ·Έλ¦¬κ³  μ„λΉ„μ¤ μƒνƒ ν™•μΈ:

```bash
sudo systemctl status isc-dhcp-server

```

β” **Active (running)** μƒνƒμΈμ§€ ν™•μΈ!

β” λ§μ•½ μ—λ¬κ°€ λ°μƒν•λ©΄ **λ΅κ·Έ ν™•μΈ**:

```bash
sudo journalctl -xe | grep dhcp

```

---

## **β… 2οΈβƒ£ DHCP μ„λ²„κ°€ μ¬λ°”λ¥Έ μΈν„°νμ΄μ¤μ—μ„ λ™μ‘ν•λ”μ§€ ν™•μΈ**

### **π“ DHCP μ„λ²„κ°€ μ‚¬μ©ν•  μΈν„°νμ΄μ¤ μ„¤μ •**

`/etc/default/isc-dhcp-server` νμΌμ„ μ—΄μ–΄μ„ `INTERFACESv4` κ°’μ„ ν™•μΈν•μ„Έμ”.

```bash
sudo nano /etc/default/isc-dhcp-server

```

μ•„λμ²λΌ `ens18`μ„ μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤. (VMμ μΈν„°νμ΄μ¤ μ΄λ¦„μ΄ `ens18`μ΄ λ§λ‹¤λ©΄)

```
INTERFACESv4="ens18"

```

μ €μ¥ ν›„ λ‹¤μ‹ **DHCP μ„λ²„ μ¬μ‹μ‘**

```bash
sudo systemctl restart isc-dhcp-server

```

---

## **β… 3οΈβƒ£ DHCP μ„λ²„κ°€ μ •μƒμ μΌλ΅ IPλ¥Ό ν• λ‹Ήν•λ”μ§€ ν™•μΈ**

### **π“ DHCP μ„λ²„ λ΅κ·Έ ν™•μΈ**

μ•„λ λ…λ Ήμ–΄λ΅ DHCP μ”μ²­ λ΅κ·Έλ¥Ό ν™•μΈν•μ„Έμ”.

```bash
sudo journalctl -u isc-dhcp-server --no-pager | grep DHCPACK

```

β” λ§μ•½ ν΄λΌμ΄μ–ΈνΈκ°€ `DHCPACK`μ„ λ°›μ•λ‹¤λ©΄ μ •μƒμ μΌλ΅ IPλ¥Ό ν• λ‹Ήν• κ²ƒ!

### **π“ ν΄λΌμ΄μ–ΈνΈμ—μ„ μλ™μΌλ΅ DHCP μ”μ²­ λ³΄λ‚΄κΈ°**

DHCP ν΄λΌμ΄μ–ΈνΈκ°€ μ •μƒμ μΌλ΅ μ‘λ™ν•λ”μ§€ ν…μ¤νΈν•λ ¤λ©΄, DHCPλ¥Ό λ°›λ” VMμ—μ„ μ•„λ λ…λ Ήμ–΄ μ‹¤ν–‰:

```bash
sudo dhclient -r
sudo dhclient

```

β” `ip a` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•΄μ„ **IPκ°€ 192.168.0.140~200 μ¤‘ ν•λ‚λ΅ ν• λ‹Ήλμ—λ”μ§€ ν™•μΈ**

---

## **π€ κ²°λ΅ **

β” **1οΈβƒ£ DHCP μ„λ²„ μ¬μ‹μ‘ (`systemctl restart isc-dhcp-server`)**

β” **2οΈβƒ£ `INTERFACESv4="ens18"` μ„¤μ • ν™•μΈ ν›„ λ‹¤μ‹ μ‹μ‘**

β” **3οΈβƒ£ DHCP μ„λ²„ λ΅κ·Έ ν™•μΈ (`journalctl -u isc-dhcp-server`)**

β” **4οΈβƒ£ ν΄λΌμ΄μ–ΈνΈμ—μ„ `sudo dhclient`λ΅ IP λ°›κΈ° ν…μ¤νΈ**

μ΄μ  **ν΄λΌμ΄μ–ΈνΈκ°€ μ •μƒμ μΌλ΅ IPλ¥Ό ν• λ‹Ήλ°›λ”μ§€ ν™•μΈ**ν•΄λ³΄μ„Έμ”!

μ¶”κ°€ λ¬Έμ  μμΌλ©΄ **μ¤λ¥ λ©”μ‹μ§€μ™€ ν•¨κ» μ§λ¬Έ μ£Όμ„Έμ”! π**

## **π”§ DHCP ν΄λΌμ΄μ–ΈνΈ μ„¤μ • λ°©λ²•**

μ§€κΈ DHCP μ„λ²„κ°€ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€ ν™•μΈν• ν›„, ν΄λΌμ΄μ–ΈνΈ(λ‹¤λ¥Έ VM λλ” PC)κ°€ DHCPλ¥Ό ν†µν•΄ **μλ™μΌλ΅ IPλ¥Ό ν• λ‹Ήλ°›λ„λ΅ μ„¤μ •**ν•΄μ•Ό ν•©λ‹λ‹¤.

### **π“ 1οΈβƒ£ ν΄λΌμ΄μ–ΈνΈ λ„¤νΈμ›ν¬ μ„¤μ • ν™•μΈ**

λ¨Όμ € ν΄λΌμ΄μ–ΈνΈμ—μ„ ν„μ¬ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό ν™•μΈν•μ„Έμ”.

```bash
ip a

```

β” `ens18` λλ” `eth0`κ³Ό κ°™μ€ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ μ΄λ¦„μ„ ν™•μΈν•μ„Έμ”.

---

### **π“ 2οΈβƒ£ ν΄λΌμ΄μ–ΈνΈλ¥Ό DHCP λ¨λ“λ΅ λ³€κ²½**

DHCPλ¥Ό μ‚¬μ©ν•λ„λ΅ ν΄λΌμ΄μ–ΈνΈμ λ„¤νΈμ›ν¬ μ„¤μ •μ„ λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤.

### **π”Ή (Ubuntu / Debian) Netplan μ‚¬μ© μ‹**

ν΄λΌμ΄μ–ΈνΈμ `/etc/netplan/` μ•„λμ— μλ” `.yaml` νμΌμ„ μμ •ν•©λ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, `/etc/netplan/50-cloud-init.yaml`μ΄ μλ‹¤λ©΄ λ‹¤μμ²λΌ μ„¤μ •:

```yaml
network:
  ethernets:
    ens18:
      dhcp4: true
  version: 2

```

β” `dhcp4: true`λ¥Ό μ¶”κ°€ν• ν›„ μ €μ¥ν•κ³  μ μ©:

```bash
sudo netplan apply

```

---

### **π”Ή (Ubuntu / Debian) `interfaces` νμΌ μ‚¬μ© μ‹**

λ§μ•½ **Netplanμ΄ μ•„λ‹λΌ `/etc/network/interfaces`λ¥Ό μ‚¬μ©ν•λ” κ²½μ°**

μ•„λ μ„¤μ •μ„ μ μ©:

```bash
sudo nano /etc/network/interfaces

```

λ‹¤μκ³Ό κ°™μ΄ μΈν„°νμ΄μ¤λ¥Ό DHCP λ¨λ“λ΅ μ„¤μ •:

```
auto ens18
iface ens18 inet dhcp

```

β” μ €μ¥ ν›„ μ μ©:

```bash
sudo systemctl restart networking

```

---

### **π“ 3οΈβƒ£ μλ™μΌλ΅ DHCP μ”μ²­ λ³΄λ‚΄κΈ° (ν…μ¤νΈ)**

μ„¤μ •μ΄ λλ‚¬λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„ **μλ™μΌλ΅ DHCP μ”μ²­μ„ λ³΄λ‚΄** IPλ¥Ό ν• λ‹Ήλ°›μ„ μ μμµλ‹λ‹¤.

```bash
sudo dhclient -r
sudo dhclient

```

β” `ip a` λ…λ Ήμ–΄λ΅ **IPκ°€ DHCP λ²”μ„(μ: 192.168.0.140~200)μ—μ„ μ •μƒμ μΌλ΅ ν• λ‹Ήλμ—λ”μ§€ ν™•μΈ**

---

### **π“ 4οΈβƒ£ ν΄λΌμ΄μ–ΈνΈκ°€ μ •μƒμ μΌλ΅ IPλ¥Ό λ°›μ•λ”μ§€ ν™•μΈ**

μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•΄μ„ ν„μ¬ λ„¤νΈμ›ν¬ μ„¤μ •μ„ ν™•μΈν•μ„Έμ”.

```bash
ip a
ip r

```

β” **192.168.0.x λ²”μ„μ IPκ°€ ν• λ‹Ήλμ—λ”μ§€ ν™•μΈ!**

β” κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄κ°€ `192.168.0.1`λ΅ μ„¤μ •λμ—λ”μ§€ ν™•μΈ!

---

## **π€ κ²°λ΅ **

β” **1οΈβƒ£ ν΄λΌμ΄μ–ΈνΈμ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ ν™•μΈ (`ip a`)**

β” **2οΈβƒ£ Netplan (`dhcp4: true`) λλ” `interfaces` νμΌ μμ • ν›„ μ μ©**

β” **3οΈβƒ£ DHCP μ”μ²­ μλ™ κ°±μ‹  (`sudo dhclient`)**

β” **4οΈβƒ£ `ip a`λ΅ μ •μƒμ μΌλ΅ IP ν• λ‹Ήλμ—λ”μ§€ ν™•μΈ**

μ΄μ  ν΄λΌμ΄μ–ΈνΈκ°€ DHCPλ¥Ό ν†µν•΄ μλ™μΌλ΅ IPλ¥Ό λ°›μ•λ”μ§€ ν™•μΈν•΄λ³΄μ„Έμ”!

μ¶”κ°€ λ¬Έμ κ°€ μμΌλ©΄ **μ¤λ¥ λ©”μ‹μ§€μ™€ ν•¨κ» μ§λ¬Έ μ£Όμ„Έμ”! π**

### **π¨ `error: ipv4 address already assigned` ν•΄κ²° λ°©λ²•**

μ΄ μ¤λ¥λ” **ν΄λΌμ΄μ–ΈνΈκ°€ μ΄λ―Έ IPλ¥Ό ν• λ‹Ήλ°›μ•λ”λ°, λ‹¤μ‹ μ”μ²­ν•λ ¤κ³  ν•  λ• λ°μƒ**ν•λ” λ¬Έμ μ…λ‹λ‹¤.

κΈ°μ΅΄ IP ν• λ‹Ήμ„ ν•΄μ ν• ν›„ λ‹¤μ‹ DHCP μ”μ²­ν•λ©΄ ν•΄κ²°ν•  μ μμµλ‹λ‹¤.

---

## **β… ν•΄κ²° λ°©λ²• 1: κΈ°μ΅΄ DHCP λ¦¬μ¤ ν•΄μ  ν›„ λ‹¤μ‹ μ”μ²­**

λ¨Όμ € κΈ°μ΅΄ DHCP μ„¤μ •μ„ ν•΄μ ν• ν›„ λ‹¤μ‹ μ”μ²­ν•μ„Έμ”.

```bash
sudo dhclient -r ens18   # κΈ°μ΅΄ DHCP IP ν•΄μ 
sudo dhclient ens18      # μƒλ΅μ΄ DHCP μ”μ²­

```

β” `ens18` λ€μ‹  ν΄λΌμ΄μ–ΈνΈμ μ‹¤μ  λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ μ΄λ¦„(`eth0` λ“±)μ„ μ‚¬μ©ν•μ„Έμ”.

β” `ip a`λ΅ μƒλ΅μ΄ IPκ°€ ν• λ‹Ήλμ—λ”μ§€ ν™•μΈ!

---

## **β… ν•΄κ²° λ°©λ²• 2: DHCP λ¦¬μ¤ νμΌ μ‚­μ  ν›„ μ¬μ”μ²­**

DHCP ν΄λΌμ΄μ–ΈνΈκ°€ μ΄μ „μ IPλ¥Ό μ €μ¥ν•κ³  μμ„ μλ„ μμµλ‹λ‹¤.

ν•΄λ‹Ή νμΌμ„ μ‚­μ ν• ν›„ λ‹¤μ‹ DHCP μ”μ²­ν•λ©΄ ν•΄κ²°λ©λ‹λ‹¤.

```bash
sudo rm /var/lib/dhcp/dhclient.*
sudo systemctl restart networking
sudo dhclient ens18

```

β” `/var/lib/dhcp/dhclient.*`μ—λ” μ΄μ „μ IP μ •λ³΄κ°€ μ €μ¥λλ―€λ΅ μ‚­μ ν•λ©΄ μƒλ΅­κ² μ”μ²­ν•  μ μμµλ‹λ‹¤.

---

## **β… ν•΄κ²° λ°©λ²• 3: λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ λ¦¬μ…‹**

λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό **μ™„μ „ν μ΄κΈ°ν™”ν• ν›„ λ‹¤μ‹ DHCP μ”μ²­**ν•  μλ„ μμµλ‹λ‹¤.

```bash
sudo ip link set ens18 down
sudo ip addr flush dev ens18
sudo ip link set ens18 up
sudo dhclient ens18

```

β” `ip addr flush dev ens18` λ…λ Ήμ–΄λ” **ν„μ¬ ν• λ‹Ήλ IPλ¥Ό μ κ±°**ν•κ³  μƒλ΅­κ² DHCP μ”μ²­ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

β” μ΄ν›„ `ip a`λ΅ μƒλ΅μ΄ IPκ°€ μ •μƒμ μΌλ΅ ν• λ‹Ήλμ—λ”μ§€ ν™•μΈν•μ„Έμ”.

---

## **π€ κ²°λ΅ **

β” **1οΈβƒ£ `sudo dhclient -r ens18`λ΅ κΈ°μ΅΄ DHCP μ„¤μ • ν•΄μ  ν›„ λ‹¤μ‹ μ”μ²­**

β” **2οΈβƒ£ `/var/lib/dhcp/dhclient.*` νμΌ μ‚­μ  ν›„ λ‹¤μ‹ DHCP μ”μ²­**

β” **3οΈβƒ£ `ip addr flush dev ens18`λ΅ IP μ κ±° ν›„ μƒλ΅­κ² μ”μ²­**

μ„ λ°©λ²•μ„ μμ„λ€λ΅ μ‹λ„ν•΄λ³΄κ³ , μ—¬μ „ν λ¬Έμ κ°€ μλ‹¤λ©΄ **μ¤λ¥ λ©”μ‹μ§€μ™€ ν•¨κ» μ§λ¬Έ μ£Όμ„Έμ”! π**

### **π¨ `networking.service` not found ν•΄κ²° λ°©λ²•**

**Ubuntu 18.04 μ΄μƒ**μ—μ„λ” `networking.service`κ°€ κΈ°λ³Έμ μΌλ΅ μ‚¬μ©λμ§€ μ•κ³ , `systemd-networkd` λλ” `NetworkManager`κ°€ λ€μ‹  μ‚¬μ©λ©λ‹λ‹¤.

---

## **β… ν•΄κ²° λ°©λ²• 1: Netplan μ¬μ μ©**

Ubuntuμ—μ„ **Netplanμ„ μ‚¬μ© μ¤‘μ΄λΌλ©΄**, λ„¤νΈμ›ν¬ μ„¤μ •μ„ λ‹¤μ‹ μ μ©ν•μ„Έμ”.

```bash
sudo netplan apply

```

β” μ΄ν›„ `ip a`λ΅ IPκ°€ μ •μƒμ μΌλ΅ μ„¤μ •λμ—λ”μ§€ ν™•μΈν•μ„Έμ”.

---

## **β… ν•΄κ²° λ°©λ²• 2: `systemd-networkd` μ¬μ‹μ‘ (Netplan κΈ°λ°)**

λ§μ•½ `systemd-networkd`λ¥Ό μ‚¬μ©ν•κ³  μλ‹¤λ©΄ μ•„λ λ…λ Ήμ–΄λ΅ λ„¤νΈμ›ν¬λ¥Ό μ¬μ‹μ‘ν•μ„Έμ”.

```bash
sudo systemctl restart systemd-networkd

```

β” μ΄ν›„ λ‹¤μ‹ `dhclient`λ΅ DHCP μ”μ²­:

```bash
sudo dhclient -r ens18
sudo dhclient ens18

```

---

## **β… ν•΄κ²° λ°©λ²• 3: `NetworkManager`λ¥Ό μ‚¬μ©ν•λ” κ²½μ°**

λ§μ•½ `NetworkManager`λ¥Ό μ‚¬μ© μ¤‘μ΄λΌλ©΄ λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ„Έμ”.

```bash
sudo systemctl restart NetworkManager

```

β” μ΄ν›„ `ip a`λ΅ ν™•μΈν•κ³ , ν•„μ”ν•λ©΄ μλ™μΌλ΅ DHCP μ”μ²­:

```bash
sudo dhclient -r ens18
sudo dhclient ens18

```

---

## **π€ κ²°λ΅ **

1οΈβƒ£ **Netplan μ‚¬μ© μ‹** β†’ `sudo netplan apply`

2οΈβƒ£ **systemd-networkd μ‚¬μ© μ‹** β†’ `sudo systemctl restart systemd-networkd`

3οΈβƒ£ **NetworkManager μ‚¬μ© μ‹** β†’ `sudo systemctl restart NetworkManager`

μ΄ν›„ `sudo dhclient -r ens18 && sudo dhclient ens18` μ‹¤ν–‰ν•΄μ„ λ‹¤μ‹ DHCP μ”μ²­ν•λ©΄ λ©λ‹λ‹¤!

νΉμ‹ λ¬Έμ κ°€ μ§€μ†λλ©΄ **μ¤λ¥ λ©”μ‹μ§€μ™€ ν•¨κ» μ§λ¬Έ μ£Όμ„Έμ”! π**

### **π€ νΉμ • μ¶λ°μ§€ IP λλ” μΈν„°νμ΄μ¤λ¥Ό μ§€μ •ν•μ—¬ `ping` λ³΄λ‚΄λ” λ°©λ²•**

μ¶λ°μ§€(SRC) IPλ¥Ό μ§€μ •ν•΄μ„ `ping`μ„ λ³΄λ‚΄λ ¤λ©΄ `-I` λλ” `-S` μµμ…μ„ μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤.

---

## **β… λ°©λ²• 1: μ¶λ°μ§€ μΈν„°νμ΄μ¤ μ§€μ • (`I`)**

νΉμ • λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤(μ: `ens18`)λ¥Ό ν†µν•΄ `ping`μ„ λ³΄λ‚Ό μ μμµλ‹λ‹¤.

```bash
ping -I ens18 8.8.8.8

```

β” `ens18` λ€μ‹  **μ¶λ°μ§€ μΈν„°νμ΄μ¤ μ΄λ¦„**μ„ μ…λ ¥ν•μ„Έμ”.

β” `ip a` λ…λ Ήμ–΄λ΅ μ‚¬μ© κ°€λ¥ν• μΈν„°νμ΄μ¤ λ©λ΅μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

---

## **β… λ°©λ²• 2: μ¶λ°μ§€ IP μ£Όμ† μ§€μ • (`I` λλ” `S`)**

μ¶λ°μ§€ IP μ£Όμ†(μ: `192.168.0.139`)λ¥Ό λ…μ‹μ μΌλ΅ μ§€μ •ν•΄μ„ `ping`μ„ λ³΄λ‚Ό μλ„ μμµλ‹λ‹¤.

```bash
ping -I 192.168.0.139 8.8.8.8

```

β” `-I` μµμ…μ€ λ¦¬λ…μ¤μ—μ„ μ¶λ°μ§€ IPλ¥Ό μ§€μ •ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

β” μΌλ¶€ OSμ—μ„λ” `-S` μµμ…μ„ μ§€μ›ν•κΈ°λ„ ν•©λ‹λ‹¤. (`-S`λ” μΌλ°μ μΌλ΅ Windows λ° BSD κ³„μ—΄μ—μ„ μ‚¬μ©)

β” **μ¶λ°μ§€ IPλ” λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤μ— λ°”μΈλ”©λ IPμ—¬μ•Ό ν•©λ‹λ‹¤.**

---

## **β… λ°©λ²• 3: Windowsμ—μ„ μ¶λ°μ§€ IP μ§€μ • (`S`)**

Windowsμ—μ„λ” `-S` μµμ…μ„ μ‚¬μ©ν•μ—¬ μ¶λ°μ§€ IPλ¥Ό μ§€μ •ν•  μ μμµλ‹λ‹¤.

```powershell
ping -S 192.168.0.139 8.8.8.8

```

β” **Windowsλ” `-S` μµμ…μ„ μ‚¬μ©**ν•κ³ , **Linuxλ” `-I` μµμ…μ„ μ‚¬μ©**ν•©λ‹λ‹¤.

---

## **π€ κ²°λ΅ **

- **μ¶λ°μ§€ μΈν„°νμ΄μ¤ μ§€μ •** β†’ `ping -I ens18 λ€μƒIP`
- **μ¶λ°μ§€ IP μ§€μ • (Linux)** β†’ `ping -I 192.168.0.139 λ€μƒIP`
- **μ¶λ°μ§€ IP μ§€μ • (Windows)** β†’ `ping -S 192.168.0.139 λ€μƒIP`

ν•„μ”ν• λ°©λ²•μ„ μ‚¬μ©ν•λ©΄ λ©λ‹λ‹¤! π π€
</details>

μ—¬νΌ μ„ λ…λ Ήμ–΄λ“¤μ„ μ΄μ©ν•΄μ„, dhcpκ΄€λ ¨ netplan ν•μ„ μ»¨ν”Όκ·Έ νμΌμ„ applyν•κ³  ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ ipλ¥Ό μ¬ν• λ‹Ήλ°›μ„ μ μλ‹¤.

